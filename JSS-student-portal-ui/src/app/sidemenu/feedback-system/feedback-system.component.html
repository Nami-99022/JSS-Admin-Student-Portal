<div class="container-fluid">
  <div class="row no-gutters">
    <!-- Sidebar -->
    <nav class="col-md-3 col-lg-2 d-md-block bg-dark sidebar" id="sidebarMenu">
      <div class="position-sticky">
        <ul class="nav flex-column">
          <li class="nav-item mb-3">
            <a routerLink="/home" routerLinkActive="active" (click)="home()" class="nav-link text-white">
              <i class="bi bi-house mr-2"></i> Home
            </a>
          </li>
          <li class="nav-item mb-3">
            <a routerLink="/time-table" routerLinkActive="active" (click)="timetable()" class="nav-link text-white">
              <i class="bi bi-calendar3 mr-2"></i> Time Table
            </a>
          </li>
          <li class="nav-item mb-3">
            <a routerLink="/students-management" routerLinkActive="active" (click)="studentsmanagement()" class="nav-link text-white">
              <i class="bi bi-person-workspace mr-2"></i> Students Management
            </a>
          </li>
          <li class="nav-item mb-3">
            <a routerLink="/attendance-management" routerLinkActive="active" (click)="attendancemanagement()" class="nav-link text-white">
              <i class="bi bi-check-square mr-2"></i> Attendance Management
            </a>
          </li>
          <li class="nav-item mb-3">
            <a routerLink="/question-bank" routerLinkActive="active" (click)="questionbank()" class="nav-link text-white">
              <i class="bi bi-book mr-2"></i> Question Bank
            </a>
          </li>
          <li class="nav-item mb-3">
            <a routerLink="/ia-module" routerLinkActive="active" (click)="iamodule()" class="nav-link text-white">
              <i class="bi bi-card-list mr-2"></i> IA Module
            </a>
          </li>
          <li class="nav-item mb-3">
            <a routerLink="/feedback-system" routerLinkActive="active" (click)="feedbacksystem()" class="nav-link text-white">
              <i class="bi bi-chat-dots mr-2"></i> Feedback System
            </a>
          </li>
          <li class="nav-item mb-3">
            <a routerLink="/lesson-plan" routerLinkActive="active" (click)="lessonplan()" class="nav-link text-white">
              <i class="bi bi-file-earmark-text mr-2"></i> Lesson Plan
            </a>
          </li>
          <li class="nav-item mb-3">
            <a routerLink="/teaching-aids" routerLinkActive="active" (click)="teachingaids()" class="nav-link text-white">
              <i class="bi bi-easel mr-2"></i> Teaching Aids
            </a>
          </li>
          <li class="nav-item mb-3">
            <a routerLink="/personal-documents" routerLinkActive="active" (click)="personaldocuments()" class="nav-link text-white">
              <i class="bi bi-folder mr-2"></i> Personal Documents
            </a>
          </li>
          <li class="nav-item mb-3">
            <a (click)="logout()" class="nav-link text-white">
              <i class="bi bi-box-arrow-right mr-2"></i> Logout
            </a>
          </li>
        </ul>
      </div>
    </nav>

    


    <main class="col-md-9 col-lg-10 px-4 pt-4">
      
      
      <!-- <div class="text-center" >
        
        
            <h1 id="FeedbackSystemTitle">Feedback System</h1>
            <br />
            <div class="row">
              <div class="col-md-8">
                <div class="btn-toolbar mb-3" role="toolbar" aria-label="Feedback Management Actions">
                  <div class="btn-group me-2" role="group" aria-label="Manage Feedbacks">
                    <button type="button" class="btn btn-secondary" (click)="displayManageFeedbacks()">Manage Feedbacks</button>
                  </div>
                  <div class="btn-group me-2" role="group" aria-label="Add New Feedback">
                    <button type="button" class="btn btn-secondary" (click)="displayAddFeedbackForm()">Add Feedback</button>
                  </div>

                 

                </div>

              </div>
            </div>
            <br />

            <div class="input-group mb-3">
              <input type="text" id="searchInput" class="form-control" placeholder="Search by Feedback Name" [(ngModel)]="searchTerm" (input)="performSearch()" />
            </div>

            <br />
            <table id="DisplayFeedbackList" class="table table-striped" *ngIf="showTable">
              <thead class="thead-dark">
                <tr>
                  <th>Feedback Question</th>
                  <th>Feedback Answer</th>
                  <th>Name</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let feedback of paginatedFeedbacks">
                  <td>{{ feedback.question }}</td>
                  <td>{{ feedback.answer }}</td>
                  <td>{{ feedback.username }}</td>
                </tr>
              </tbody>
            </table>
            <br />
            <ul class="pagination" *ngIf="totalPages > 1">
              <li *ngFor="let page of paginationArray; let i = index" class="page-item" [class.active]="currentPage === i + 1">
                <a class="page-link" href="#" (click)="gotoPage(i + 1)">{{ i + 1 }}</a>
              </li>
            </ul>
            <br />
            <div id="AddFeedbackForm" *ngIf="showAddForm" class="w-100">
              <h3>Add Feedback</h3>
              <br />
              <form (ngSubmit)="submitFeedback()">
                <div class="form-group">
                  <label for="feedbackQuestionDropdown">Select Feedback Question</label>
                  <select class="form-control" id="feedbackQuestionDropdown" [(ngModel)]="selectedQuestion" name="selectedQuestion" required>
                    <option *ngFor="let question of feedbackQuestions" [value]="question.question">{{ question.question }}</option>
                  </select>
                </div>
                <br />
                <div class="form-group">
                  <label for="feedback">Your Answer</label>
                  <input type="text" class="form-control" id="feedback" name="feedback" [(ngModel)]="feedbackText" required />
                </div>
                <br />
                <button type="submit" class="btn btn-primary">Submit Feedback</button>
              </form>
              <br />
            </div>
          
          <div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="feedbackModalLabel">Create Feedback Question</h5>
                </div>
                <div class="modal-body">
                  <form (ngSubmit)="addFeedbackQuestion()">
                    <div class="mb-3">
                      <label for="modalFeedback" class="form-label">Feedback Question</label>
                      <input type="text" class="form-control" id="modalFeedback" [(ngModel)]="newFeedbackQuestion" name="newFeedbackQuestion" required />
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" (click)="addFeedbackQuestion()">Add Feedback Question</button>
                </div>
              </div>
            </div>
          </div>
        </div>
         -->


         <div class="container-fluid">
          <h1 id="FeedbackSystemTitle" class="text-center mb-4">Feedback System</h1>
          
          <div class="btn-toolbar mb-4" role="toolbar">
            <button type="button" class="btn btn-primary me-2" (click)="displayManageFeedbacks()">Manage Feedbacks</button>
            <button type="button" class="btn btn-outline-primary me-2" (click)="displayAddFeedbackForm()">Add Feedback</button>
          </div>
        
          <!-- <div class="input-group mb-3">
            <input type="text" id="searchInput" class="form-control" placeholder="Search by Feedback Name" [(ngModel)]="searchTerm" (input)="performSearch()">
          </div>
         -->
          <table id="DisplayFeedbackList" class="table table-striped table-hover" *ngIf="showTable">
            <thead class="thead-dark">
              <tr>
                <th>Feedback Question</th>
                <th>Feedback Answer</th>
                <th>Name</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let feedback of paginatedFeedbacks">
                <td>{{ feedback.question }}</td>
                <td>{{ feedback.answer }}</td>
                <td>{{ feedback.username }}</td>
              </tr>
            </tbody>
          </table>
        
          <ul class="pagination justify-content-center" *ngIf="totalPages > 1">
            <li *ngFor="let page of paginationArray; let i = index" class="page-item" [class.active]="currentPage === i + 1">
              <a class="page-link" href="#" (click)="gotoPage(i + 1)">{{ i + 1 }}</a>
            </li>
          </ul>
        
          <div id="AddFeedbackForm" *ngIf="showAddForm" class="d-flex justify-content-center mt-4">
            <div class="w-100 p-4" style="max-width: 600px; border: 1px solid #ccc; border-radius: 8px;">
              <h3 class="text-center">Add Feedback</h3>
              <form (ngSubmit)="submitFeedback()">
                <div class="form-group mb-3 row align-items-center">
                  <label for="feedbackQuestionDropdown" class="col-sm-3 col-form-label">Select Question:</label>
                  <div class="col-sm-8">
                    <select class="form-control" id="feedbackQuestionDropdown" [(ngModel)]="selectedQuestion" name="selectedQuestion" required>
                      <option value="" disabled selected>Select feedback question</option> 
                      <option *ngFor="let question of feedbackQuestions" [value]="question.question">{{ question.question }}</option>
                    </select>
                  </div>
                </div>
                <div class="form-group mb-3 row align-items-center">
                  <label for="feedback" class="col-sm-3 col-form-label">Your Answer:</label>
                  <div class="col-sm-8">
                    <input type="text" class="form-control" id="feedback" name="feedback" [(ngModel)]="feedbackText" required>
                  </div>
                </div>
                <div class="text-center">
                  <button type="submit" class="btn btn-success">Submit Feedback</button>
                </div>
              </form>
            </div>
          </div>
          